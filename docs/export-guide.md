# ğŸ“„ æŠ¥å‘Šå¯¼å‡ºåŠŸèƒ½ä½¿ç”¨æŒ‡å—

## æ¦‚è¿°

å‰§æœ¬å™äº‹ç»“æ„åˆ†æç³»ç»Ÿçš„æŠ¥å‘Šå¯¼å‡ºåŠŸèƒ½ï¼ˆv2.3.0ï¼‰æä¾›äº†ä¸“ä¸šçš„Markdownæ ¼å¼åˆ†ææŠ¥å‘Šå’ŒMermaidå¯è§†åŒ–å›¾è¡¨ï¼Œè®©æ‚¨å¯ä»¥è½»æ¾åˆ†äº«å’ŒæŸ¥çœ‹åˆ†æç»“æœã€‚

### æ ¸å¿ƒç‰¹æ€§

âœ… **Markdownæ ¼å¼æŠ¥å‘Š**
- å®Œæ•´çš„åˆ†æç»“æœï¼ˆåŸºæœ¬ä¿¡æ¯ã€ä¸‰é˜¶æ®µè¯¦ç»†è¾“å‡ºï¼‰
- æ¸…æ™°çš„å±‚æ¬¡ç»“æ„å’Œæ ¼å¼åŒ–
- æ”¯æŒGitHubã€Obsidianã€Typoraç­‰å·¥å…·

âœ… **Mermaidæµç¨‹å›¾**
- è‡ªåŠ¨ç”ŸæˆTCCå…³ç³»å¯è§†åŒ–
- A/B/Cçº¿é¢œè‰²ç¼–ç ï¼ˆçº¢è‰²/é’è‰²/ç»¿è‰²ï¼‰
- Setup-Payoffå› æœé“¾æ˜¾ç¤º

âœ… **æ™ºèƒ½åˆ†æ**
- è‡ªåŠ¨ç”Ÿæˆå…³é”®å‘ç°
- æ™ºèƒ½æä¾›ä¼˜åŒ–å»ºè®®
- æ€§èƒ½æŒ‡æ ‡ç»Ÿè®¡

---

## å¿«é€Ÿå¼€å§‹

### åŸºæœ¬ç”¨æ³•

```bash
# åˆ†æå‰§æœ¬å¹¶å¯¼å‡ºMarkdownæŠ¥å‘Š
python -m src.cli analyze script.json --export reports/analysis.md
```

### å®Œæ•´ç¤ºä¾‹

```bash
# 1. åˆ†æå‰§æœ¬å¹¶å¯¼å‡ºæŠ¥å‘Š
python -m src.cli analyze examples/golden/ç™¾å¦–_ep09_s01-s05.json \
  --export reports/ç™¾å¦–_analysis.md

# 2. æŸ¥çœ‹æŠ¥å‘Š
cat reports/ç™¾å¦–_analysis.md

# æˆ–åœ¨æ”¯æŒMarkdownçš„ç¼–è¾‘å™¨ä¸­æ‰“å¼€
code reports/ç™¾å¦–_analysis.md  # VS Code
obsidian reports/ç™¾å¦–_analysis.md  # Obsidian
typora reports/ç™¾å¦–_analysis.md  # Typora
```

---

## æŠ¥å‘Šç»“æ„

### 1. åŸºæœ¬ä¿¡æ¯

```markdown
## ğŸ“‹ åŸºæœ¬ä¿¡æ¯

- **å‰§æœ¬åç§°**: ç™¾å¦–_ep09_s01-s05
- **åˆ†ææ—¶é—´**: 2025-11-13 15:10:53
- **ç³»ç»Ÿç‰ˆæœ¬**: v2.3.0
- **åˆ†ææ¨¡å¼**: DeepSeek / deepseek-chat
```

åŒ…å«ï¼š
- å‰§æœ¬åç§°ï¼ˆä»æ–‡ä»¶åæˆ–JSONä¸­æå–ï¼‰
- åˆ†ææ—¶é—´æˆ³
- ç³»ç»Ÿç‰ˆæœ¬å·
- ä½¿ç”¨çš„LLMæä¾›å•†å’Œæ¨¡å‹

### 2. æ‰§è¡Œæ¦‚å†µ

```markdown
## ğŸ“Š æ‰§è¡Œæ¦‚å†µ

| æŒ‡æ ‡ | æ•°å€¼ |
|------|------|
| æ€»æ‰§è¡Œæ—¶é—´ | 138.95ç§’ |
| LLMè°ƒç”¨æ¬¡æ•° | 3æ¬¡ |
| é‡è¯•æ¬¡æ•° | 0æ¬¡ |
| æˆåŠŸç‡ | 100% |
```

æ˜¾ç¤ºå…³é”®æ€§èƒ½æŒ‡æ ‡ï¼š
- æ€»æ‰§è¡Œæ—¶é—´ï¼ˆç§’ï¼‰
- LLM APIè°ƒç”¨æ¬¡æ•°
- é‡è¯•æ¬¡æ•°ï¼ˆå¤±è´¥é‡è¯•ç»Ÿè®¡ï¼‰
- æˆåŠŸç‡ï¼ˆ100% = æ— é”™è¯¯ï¼‰

### 3. é˜¶æ®µä¸€ï¼šTCCè¯†åˆ«

```markdown
## ğŸ” é˜¶æ®µä¸€ï¼šæˆå‰§å†²çªé“¾ï¼ˆTCCï¼‰è¯†åˆ«

**è¯†åˆ«ç»“æœ**: å…±è¯†åˆ«å‡º **2** ä¸ªç‹¬ç«‹çš„æˆå‰§å†²çªé“¾

### TCC_01: ç‰é¼ ç²¾å¯»æ±‚åˆ›ä¸šåŠç”µå•†å¹³å°æŠ•èµ„

- **æ ¸å¿ƒå†²çªç±»å‹**: interpersonal
- **ç½®ä¿¡åº¦**: 95%
- **è¯æ®åœºæ™¯**: S01, S03, S04, S05

**å†²çªæè¿°**:
ç‰é¼ ç²¾è¯•å›¾è·å¾—åˆ›ä¸šåŠæŠ•èµ„ï¼Œä½†é­åˆ°æ‚Ÿç©ºçš„å°½èŒè°ƒæŸ¥å’Œè´¨ç–‘...

**é©±åŠ¨åŠ› (Protagonist)**:
- ç‰é¼ ç²¾çš„å•†ä¸šé‡å¿ƒ
- ç”µå•†å¹³å°èèµ„éœ€æ±‚

**é˜»æŠ—åŠ› (Antagonist)**:
- æ‚Ÿç©ºçš„å°½èŒè°ƒæŸ¥
- å“ªå’çš„å†…éƒ¨çˆ†æ–™
- ç¥ç§˜ä»“åº“é—®é¢˜
```

è¯¦ç»†å±•ç¤ºæ¯ä¸ªTCCï¼š
- TCCç¼–å·å’Œè¶…çº§ç›®æ ‡
- æ ¸å¿ƒå†²çªç±»å‹ï¼ˆinterpersonal/internal/philosophicalï¼‰
- ç½®ä¿¡åº¦ï¼ˆ0-100%ï¼‰
- æ¶‰åŠçš„åœºæ™¯åˆ—è¡¨
- å†²çªæè¿°
- é©±åŠ¨åŠ›å’Œé˜»æŠ—åŠ›åˆ†æ
- Setup-Payoffå› æœé“¾ï¼ˆå¦‚æœæœ‰ï¼‰

### 4. é˜¶æ®µäºŒï¼šA/B/Cçº¿åˆ†çº§

```markdown
## ğŸ“Š é˜¶æ®µäºŒï¼šA/B/Cçº¿åˆ†çº§

### Açº¿ï¼ˆä¸»çº¿ / Spineï¼‰

**TCC_01**: ç‰é¼ ç²¾å¯»æ±‚åˆ›ä¸šåŠç”µå•†å¹³å°æŠ•èµ„

- **Spineè¯„åˆ†**: 10.5 / 10
- **å¤±è´¥èµŒæ³¨**: æŠ•èµ„å¤±è´¥ï¼Œç”µå•†å¹³å°æ— æ³•å¯åŠ¨
- **ç¯‡å¹…å æ¯”**: 4ä¸ªåœºæ™¯

**è¯„ä¼°ç†ç”±**:
scene_count=4 setup_payoff_density=1.0 drives_climax=False

**é©±åŠ¨åŠ›**: ç‰é¼ ç²¾çš„å•†ä¸šé‡å¿ƒ

**ä¸»è¦é˜»æŠ—åŠ›**: æ‚Ÿç©ºçš„å°½èŒè°ƒæŸ¥

**åŠ¨æ€é˜»æŠ—åŠ›**:
- å“ªå’çš„å†…éƒ¨çˆ†æ–™
- ç¥ç§˜ä»“åº“é—®é¢˜
```

å±•ç¤ºA/B/Cçº¿åˆ†çº§ç»“æœï¼š
- **Açº¿ï¼ˆä¸»çº¿ï¼‰**: Spineè¯„åˆ†ã€å¤±è´¥èµŒæ³¨ã€ç¯‡å¹…å æ¯”
- **Bçº¿ï¼ˆå‰¯çº¿ï¼‰**: Heartè¯„åˆ†ã€æƒ…æ„Ÿæ ¸å¿ƒã€å¯¹Açº¿çš„å½±å“
- **Cçº¿ï¼ˆæ¬¡çº¿ï¼‰**: Flavorè¯„åˆ†ã€ä¸»é¢˜æ˜ ç…§ã€å¯å‰¥ç¦»æ€§

### 5. é˜¶æ®µä¸‰ï¼šç»“æ„ä¿®æ­£

```markdown
## ğŸ”§ é˜¶æ®µä¸‰ï¼šç»“æ„ä¿®æ­£

### ä¿®æ­£æ¦‚å†µ

- **å‘ç°é—®é¢˜**: 4ä¸ª
- **å·²ä¿®å¤**: 2ä¸ª
- **è·³è¿‡**: 0ä¸ª

### ä¿®æ­£è¯¦æƒ…

#### ä¿®æ­£ 1: ISS_001

**åœºæ™¯**: S02

**å­—æ®µ**: setup_payoff.setup_for

**ä¿®æ­£æ“ä½œ**: remove

**åŸå› **:
Removed reference to non-existent scene S43

**åŸå€¼**: ['S43']

**çŠ¶æ€**: âœ… å·²åº”ç”¨
```

è¯¦ç»†è®°å½•æ‰€æœ‰ç»“æ„ä¿®æ­£ï¼š
- ä¿®æ­£æ¦‚å†µç»Ÿè®¡
- æ¯ä¸ªä¿®æ­£çš„è¯¦ç»†ä¿¡æ¯ï¼š
  - é—®é¢˜ç¼–å·
  - æ¶‰åŠåœºæ™¯
  - ä¿®æ”¹å­—æ®µ
  - ä¿®æ­£æ“ä½œï¼ˆadd/remove/updateï¼‰
  - ä¿®æ­£åŸå› 
  - åŸå€¼å’Œæ–°å€¼
  - åº”ç”¨çŠ¶æ€

### 6. TCCå…³ç³»å¯è§†åŒ–

````markdown
## ğŸ“ˆ TCCå…³ç³»å¯è§†åŒ–

```mermaid
flowchart TD

    TCC_01["[Açº¿] TCC_01<br/>ç‰é¼ ç²¾å¯»æ±‚åˆ›ä¸šåŠç”µå•†å¹³å°æŠ•èµ„<br/>ç½®ä¿¡åº¦: 95%"]
    TCC_02["[Bçº¿] TCC_02<br/>æ‚Ÿç©ºå› å¤–è¡¨è¢«è¯¯è§£çš„èº«ä»½å›°å¢ƒ<br/>ç½®ä¿¡åº¦: 85%"]

    %% A/B/Cçº¿æ ·å¼
    style TCC_01 fill:#ff6b6b,stroke:#333,stroke-width:2px,color:#fff
    style TCC_02 fill:#4ecdc4,stroke:#333,stroke-width:2px,color:#fff
```

### å›¾ä¾‹è¯´æ˜

- ğŸ”´ **Açº¿** (çº¢è‰²): ä¸»çº¿æ•…äº‹ï¼Œå‰§æœ¬è„ŠæŸ±
- ğŸ”µ **Bçº¿** (é’è‰²): å‰¯çº¿æ•…äº‹ï¼Œæƒ…æ„Ÿæ ¸å¿ƒ
- ğŸŸ¢ **Cçº¿** (ç»¿è‰²): æ¬¡çº¿æ•…äº‹ï¼Œä¸»é¢˜æ˜ ç…§
- â¡ï¸ **ç®­å¤´**: Setup-Payoff å› æœå…³ç³»
````

**Mermaidå›¾è¡¨ç‰¹æ€§**ï¼š
- è‡ªåŠ¨ç”ŸæˆTCCèŠ‚ç‚¹
- é¢œè‰²ç¼–ç åŒºåˆ†A/B/Cçº¿
- æ˜¾ç¤ºç½®ä¿¡åº¦
- å±•ç¤ºSetup-Payoffå…³ç³»
- æ”¯æŒGitHubã€Obsidianã€Typoraç­‰å·¥å…·æ¸²æŸ“

**é¢œè‰²æ–¹æ¡ˆ**ï¼š
- **Açº¿ï¼ˆçº¢è‰² #ff6b6bï¼‰**: ä¸»çº¿ï¼Œå‰§æœ¬è„ŠæŸ±
- **Bçº¿ï¼ˆé’è‰² #4ecdc4ï¼‰**: å‰¯çº¿ï¼Œæƒ…æ„Ÿæ ¸å¿ƒ
- **Cçº¿ï¼ˆç»¿è‰² #95e1d3ï¼‰**: æ¬¡çº¿ï¼Œä¸»é¢˜æ˜ ç…§

### 7. å…³é”®å‘ç°

```markdown
## ğŸ’¡ å…³é”®å‘ç°

1. å‰§æœ¬é‡‡ç”¨åŒçº¿å™äº‹ï¼Œä¸»å‰¯çº¿å¹¶è¡Œå‘å±•
2. ä¸»çº¿ï¼ˆAçº¿ï¼‰æ˜ç¡®ï¼šç‰é¼ ç²¾å¯»æ±‚åˆ›ä¸šåŠç”µå•†å¹³å°æŠ•èµ„...
3. å‰¯çº¿ï¼ˆBçº¿ï¼‰æ•°é‡: 1æ¡ï¼Œæä¾›æƒ…æ„Ÿæ·±åº¦
4. å‘ç°4ä¸ªç»“æ„æ€§é—®é¢˜ï¼Œå·²ä¿®å¤2ä¸ª
```

æ™ºèƒ½ç”Ÿæˆçš„å…³é”®å‘ç°ï¼š
- å™äº‹ç»“æ„ç±»å‹ï¼ˆå•çº¿/åŒçº¿/å¤šçº¿ï¼‰
- ä¸»çº¿æè¿°
- å‰¯çº¿/æ¬¡çº¿æ•°é‡ç»Ÿè®¡
- ç»“æ„é—®é¢˜æ¦‚å†µ

### 8. å»ºè®®

```markdown
## ğŸ¯ å»ºè®®

1. å‰§æœ¬ç»“æ„è‰¯å¥½ï¼Œå»ºè®®ç»´æŒå½“å‰è®¾è®¡
2. å¯è€ƒè™‘è¿›ä¸€æ­¥æ·±åŒ–è§’è‰²å†²çªå’Œæƒ…æ„Ÿå¼§çº¿
```

æ™ºèƒ½ç”Ÿæˆçš„ä¼˜åŒ–å»ºè®®ï¼š
- ç»“æ„è¯„ä¼°
- Bçº¿å»ºè®®ï¼ˆå¦‚æœç¼ºå¤±ï¼‰
- ä½ç½®ä¿¡åº¦TCCè­¦å‘Š
- ç»“æ„æ€§é—®é¢˜æ”¹è¿›å»ºè®®

### 9. é™„å½•

```markdown
## ğŸ“ é™„å½•

### æ€§èƒ½ç»Ÿè®¡

#### å„é˜¶æ®µè€—æ—¶

| é˜¶æ®µ | è€—æ—¶ | LLMè°ƒç”¨ | é‡è¯•æ¬¡æ•° |
|------|------|---------|----------|
| stage1_discoverer | 45.23s | 1 | 0 |
| stage2_auditor | 52.11s | 1 | 0 |
| stage3_modifier | 41.61s | 1 | 0 |

---

**æŠ¥å‘Šç”Ÿæˆæ—¶é—´**: 2025-11-13 15:10:53

**ç³»ç»Ÿ**: å‰§æœ¬å™äº‹ç»“æ„åˆ†æç³»ç»Ÿ v2.3.0

---

*æœ¬æŠ¥å‘Šç”± AI è‡ªåŠ¨ç”Ÿæˆï¼Œå»ºè®®ç»“åˆäººå·¥å®¡æ ¸ä½¿ç”¨*
```

é™„å½•ä¿¡æ¯ï¼š
- å„é˜¶æ®µæ€§èƒ½ç»Ÿè®¡ï¼ˆè€—æ—¶ã€LLMè°ƒç”¨ã€é‡è¯•ï¼‰
- æŠ¥å‘Šç”Ÿæˆæ—¶é—´
- ç³»ç»Ÿç‰ˆæœ¬
- å…è´£å£°æ˜

---

## æŸ¥çœ‹å’Œåˆ†äº«æŠ¥å‘Š

### GitHubæŸ¥çœ‹

MarkdownæŠ¥å‘Šåœ¨GitHubä¸Šè‡ªåŠ¨æ¸²æŸ“ï¼ŒåŒ…æ‹¬Mermaidå›¾è¡¨ï¼š

1. æäº¤æŠ¥å‘Šåˆ°Gitä»“åº“ï¼š
```bash
git add reports/analysis.md
git commit -m "docs: add screenplay analysis report"
git push
```

2. åœ¨GitHub Webç•Œé¢æŸ¥çœ‹ï¼ŒMermaidå›¾è¡¨ä¼šè‡ªåŠ¨æ¸²æŸ“ã€‚

### ObsidianæŸ¥çœ‹

ObsidianåŸç”Ÿæ”¯æŒMarkdownå’ŒMermaidï¼š

1. å°†`reports/`ç›®å½•æ·»åŠ åˆ°Obsidian vault
2. æ‰“å¼€æŠ¥å‘Šæ–‡ä»¶
3. Mermaidå›¾è¡¨è‡ªåŠ¨æ¸²æŸ“

### TyporaæŸ¥çœ‹

Typoraæä¾›æ‰€è§å³æ‰€å¾—çš„Markdownç¼–è¾‘ï¼š

```bash
typora reports/analysis.md
```

### VS CodeæŸ¥çœ‹

ä½¿ç”¨Markdowné¢„è§ˆï¼š

1. å®‰è£…"Markdown Preview Mermaid Support"æ‰©å±•
2. æ‰“å¼€æŠ¥å‘Šæ–‡ä»¶
3. æŒ‰`Ctrl+Shift+V`ï¼ˆWindows/Linuxï¼‰æˆ–`Cmd+Shift+V`ï¼ˆMacï¼‰é¢„è§ˆ

---

## é«˜çº§ç”¨æ³•

### è‡ªå®šä¹‰è¾“å‡ºè·¯å¾„

```bash
# æŒ‡å®šè¾“å‡ºç›®å½•å’Œæ–‡ä»¶å
python -m src.cli analyze script.json \
  --export reports/custom_name.md
```

### ä¸JSONè¾“å‡ºç»“åˆ

```bash
# åŒæ—¶å¯¼å‡ºJSONå’ŒMarkdown
python -m src.cli analyze script.json \
  --output results.json \
  --export reports/analysis.md
```

### æ‰¹é‡å¤„ç†

```bash
# åˆ†æå¤šä¸ªå‰§æœ¬å¹¶ç”ŸæˆæŠ¥å‘Š
for script in examples/golden/*.json; do
  name=$(basename "$script" .json)
  python -m src.cli analyze "$script" \
    --export "reports/${name}_analysis.md"
done
```

---

## æŠ¥å‘Šå®šåˆ¶

### ä¿®æ”¹æ¨¡æ¿

å¦‚æœéœ€è¦è‡ªå®šä¹‰æŠ¥å‘Šæ ¼å¼ï¼Œå¯ä»¥ç¼–è¾‘Jinja2æ¨¡æ¿ï¼š

**æ¨¡æ¿ä½ç½®**: `templates/report_template.md.j2`

**ç¤ºä¾‹ï¼šæ·»åŠ è‡ªå®šä¹‰ç« èŠ‚**

```jinja2
## ğŸ¨ è‡ªå®šä¹‰ç« èŠ‚

è¿™æ˜¯ä¸€ä¸ªè‡ªå®šä¹‰ç« èŠ‚çš„ç¤ºä¾‹ã€‚

### ç»Ÿè®¡æ•°æ®

- åœºæ™¯æ€»æ•°: {{ script_json.scenes|length }}
- TCCæ€»æ•°: {{ tccs|length }}
```

### ä¿®æ”¹é¢œè‰²æ–¹æ¡ˆ

ç¼–è¾‘`src/exporters/mermaid_generator.py`ä¸­çš„`LINE_COLORS`å­—å…¸ï¼š

```python
LINE_COLORS = {
    "A": "#ff6b6b",  # çº¢è‰² - ä¸»çº¿
    "B": "#4ecdc4",  # é’è‰² - å‰¯çº¿
    "C": "#95e1d3",  # ç»¿è‰² - æ¬¡çº¿
}
```

### è‡ªå®šä¹‰å…³é”®å‘ç°é€»è¾‘

ç¼–è¾‘`src/exporters/markdown_exporter.py`ä¸­çš„`_generate_key_findings()`æ–¹æ³•ï¼š

```python
def _generate_key_findings(self, tccs, rankings, modifications):
    findings = []
    # æ·»åŠ è‡ªå®šä¹‰é€»è¾‘
    findings.append("æ‚¨çš„è‡ªå®šä¹‰å‘ç°")
    return findings
```

---

## æ•…éšœæ’é™¤

### é—®é¢˜ï¼šMermaidå›¾è¡¨æ— æ³•æ¸²æŸ“

**ç—‡çŠ¶**ï¼šåœ¨æŸäº›MarkdownæŸ¥çœ‹å™¨ä¸­çœ‹åˆ°ä»£ç å—è€Œéå›¾è¡¨

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. ç¡®è®¤æŸ¥çœ‹å™¨æ”¯æŒMermaidï¼ˆGitHubã€Obsidianã€Typoraæ”¯æŒï¼‰
2. VS Codeç”¨æˆ·ï¼šå®‰è£…"Markdown Preview Mermaid Support"æ‰©å±•
3. åœ¨çº¿æŸ¥çœ‹ï¼šä½¿ç”¨ https://mermaid.live/ ç²˜è´´å›¾è¡¨ä»£ç 

### é—®é¢˜ï¼šä¸­æ–‡æ˜¾ç¤ºä¹±ç 

**ç—‡çŠ¶**ï¼šæŠ¥å‘Šä¸­çš„ä¸­æ–‡å­—ç¬¦æ˜¾ç¤ºä¸ºä¹±ç 

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. ç¡®è®¤æ–‡ä»¶ä½¿ç”¨UTF-8ç¼–ç ä¿å­˜
2. æŸ¥çœ‹å™¨è®¾ç½®ä¸ºUTF-8ç¼–ç 
3. ç»ˆç«¯ç¯å¢ƒå˜é‡è®¾ç½®ï¼š
```bash
export LANG=zh_CN.UTF-8
export LC_ALL=zh_CN.UTF-8
```

### é—®é¢˜ï¼šå¯¼å‡ºå¤±è´¥

**ç—‡çŠ¶**ï¼šå‘½ä»¤æ‰§è¡ŒåæŠ¥é”™æˆ–æ— è¾“å‡º

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. æ£€æŸ¥è¾“å‡ºç›®å½•æ˜¯å¦å­˜åœ¨ï¼ˆè‡ªåŠ¨åˆ›å»ºï¼‰
2. æ£€æŸ¥æ˜¯å¦æœ‰å†™å…¥æƒé™
3. æŸ¥çœ‹è¯¦ç»†é”™è¯¯ä¿¡æ¯ï¼š
```bash
python -m src.cli analyze script.json --export report.md 2>&1 | tee error.log
```

### é—®é¢˜ï¼šæŠ¥å‘Šå†…å®¹ä¸å®Œæ•´

**ç—‡çŠ¶**ï¼šæŸäº›ç« èŠ‚ä¸ºç©ºæˆ–æ˜¾ç¤º"æ— "

**åŸå› **ï¼šåˆ†æç»“æœæœ¬èº«å¯èƒ½æ²¡æœ‰è¯¥éƒ¨åˆ†æ•°æ®ï¼ˆå¦‚æœªè¯†åˆ«åˆ°Cçº¿ï¼‰

**è¿™æ˜¯æ­£å¸¸çš„**ï¼šå¹¶éæ‰€æœ‰å‰§æœ¬éƒ½æœ‰A/B/Cä¸‰çº¿ã€‚

---

## æœ€ä½³å®è·µ

### 1. æŠ¥å‘Šå‘½åè§„èŒƒ

å»ºè®®ä½¿ç”¨æè¿°æ€§æ–‡ä»¶åï¼š

```bash
# å¥½çš„å‘½å
reports/ç™¾å¦–_ep09_s01-s05_analysis_2025-11-13.md
reports/script_v2_structure_report.md

# é¿å…ä½¿ç”¨
reports/report.md  # å¤ªé€šç”¨
reports/1.md  # æ— æ„ä¹‰
```

### 2. ç‰ˆæœ¬æ§åˆ¶

å°†æŠ¥å‘Šçº³å…¥Gitç‰ˆæœ¬æ§åˆ¶ï¼š

```bash
# .gitignore
# ä¸´æ—¶JSONç»“æœå¯å¿½ç•¥
results/*.json

# ä½†ä¿ç•™æŠ¥å‘Š
!reports/*.md
```

### 3. æŠ¥å‘Šå®¡æŸ¥æµç¨‹

1. **è‡ªåŠ¨ç”ŸæˆæŠ¥å‘Š**
```bash
python -m src.cli analyze script.json --export reports/draft.md
```

2. **äººå·¥å®¡æ ¸**
- æ£€æŸ¥å…³é”®å‘ç°æ˜¯å¦åˆç†
- éªŒè¯A/B/Cçº¿åˆ†çº§æ˜¯å¦ç¬¦åˆé¢„æœŸ
- ç¡®è®¤ä¿®æ­£å»ºè®®æ˜¯å¦å¯æ¥å—

3. **æœ€ç»ˆç¡®è®¤**
```bash
# é‡å‘½åä¸ºæœ€ç»ˆç‰ˆæœ¬
mv reports/draft.md reports/final_analysis.md
```

### 4. å›¢é˜Ÿåä½œ

åœ¨å›¢é˜Ÿä¸­åˆ†äº«æŠ¥å‘Šï¼š

```bash
# 1. ç”ŸæˆæŠ¥å‘Š
python -m src.cli analyze script.json --export reports/analysis.md

# 2. æäº¤åˆ°Git
git add reports/analysis.md
git commit -m "docs: add analysis report for script v1.2"
git push

# 3. åˆ›å»ºPull Request
gh pr create --title "å‰§æœ¬ç»“æ„åˆ†ææŠ¥å‘Š" --body "è¯·å®¡é˜…attachedæŠ¥å‘Š"
```

---

## APIä½¿ç”¨

é™¤äº†CLIï¼Œæ‚¨ä¹Ÿå¯ä»¥åœ¨Pythonä»£ç ä¸­ä½¿ç”¨å¯¼å‡ºåŠŸèƒ½ï¼š

```python
from pathlib import Path
from src.pipeline import run_pipeline
from src.exporters import MarkdownExporter
from prompts.schemas import Script

# 1. åŠ è½½å‰§æœ¬
with open("script.json", "r", encoding="utf-8") as f:
    script_data = json.load(f)
script = Script(**script_data)

# 2. è¿è¡Œåˆ†æ
final_state = run_pipeline(script, provider="deepseek")

# 3. å¯¼å‡ºæŠ¥å‘Š
exporter = MarkdownExporter()

result = {
    "tccs": final_state["discoverer_output"].tccs,
    "rankings": final_state["auditor_output"].rankings,
    "modifications": {
        "modifications": final_state["modifier_output"].modification_log,
        "total_issues": final_state["modifier_output"].validation.total_issues,
    },
    "_metrics": final_state.get("_metrics", {}),
    "script_json": script_data,
}

output_path = exporter.export(
    result=result,
    output_path=Path("reports/analysis.md"),
    script_name="æˆ‘çš„å‰§æœ¬"
)

print(f"æŠ¥å‘Šå·²å¯¼å‡ºåˆ°: {output_path}")
```

---

## ç›¸å…³èµ„æº

- **é¡¹ç›®ä¸»æ–‡æ¡£**: [README.md](../README.md)
- **APIå‚è€ƒ**: [ref/api-reference.md](../ref/api-reference.md)
- **ä½¿ç”¨æŒ‡å—**: [USAGE.md](../USAGE.md)
- **Mermaidæ–‡æ¡£**: https://mermaid.js.org/
- **Jinja2æ–‡æ¡£**: https://jinja.palletsprojects.com/

---

## æ€»ç»“

æŠ¥å‘Šå¯¼å‡ºåŠŸèƒ½ï¼ˆv2.3.0ï¼‰ä¸ºå‰§æœ¬å™äº‹ç»“æ„åˆ†æç³»ç»Ÿæä¾›äº†å®Œæ•´çš„äº¤ä»˜èƒ½åŠ›ï¼š

âœ… **ä¸“ä¸šæ ¼å¼** - Markdown + Mermaidå¯è§†åŒ–
âœ… **è‡ªåŠ¨ç”Ÿæˆ** - æ— éœ€æ‰‹å·¥æ•´ç†
âœ… **æ˜“äºåˆ†äº«** - GitHub/Obsidian/TyporaåŸç”Ÿæ”¯æŒ
âœ… **å®Œæ•´ä¿¡æ¯** - ä¸‰é˜¶æ®µç»“æœ + æ€§èƒ½æŒ‡æ ‡ + æ™ºèƒ½å»ºè®®

ç°åœ¨æ‚¨å¯ä»¥ï¼š
1. ä¸€é”®ç”Ÿæˆä¸“ä¸šåˆ†ææŠ¥å‘Š
2. å¯è§†åŒ–ç†è§£TCCå…³ç³»
3. è½»æ¾åˆ†äº«ç»™å›¢é˜Ÿæˆå‘˜
4. è·Ÿè¸ªåˆ†æå†å²å’Œç‰ˆæœ¬

**å¼€å§‹ä½¿ç”¨**ï¼š
```bash
python -m src.cli analyze your_script.json --export reports/analysis.md
```

ç¥æ‚¨ä½¿ç”¨æ„‰å¿«ï¼ğŸ‰
